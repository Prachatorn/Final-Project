) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
)
return(asylums_map)
}
affirmative_maps(2007)
affirmative_maps(year_2007)
affirmative_maps("year_2007")
affirmative_map("year_2007")
colnames(defensive_asylum)[colnames(defensive_asylum) ==
"ï..Country"] <- "country"
affirmative_map("year_2007")
affirmative_map("year_2007")
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~input,
color = ~input,
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~affirmative_country$input,
color = ~affirmative_country$input,
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~affirmative_country$input[2:100],
color = ~affirmative_country$input,
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~affirmative_country$input,
color = ~affirmative_country$input,
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
View(affirmative_country)
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~input[1:100],
color = ~input[1:100],
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~input,
color = ~input,
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- affirmative_country$input
affirmative_map("year_2007")
affirmative_map <- function(input) {
# asylums_map <- plot_geo(affirmative_country) %>%
#   add_trace(
#     z = ~input,
#     color = ~input,
#     colors = "Reds",
#     text = ~country,
#     locations = ~code,
#     marker = list(
#       line = list(
#         color = toRGB("black"),
#         width = 0.5
#       )
#     )
#   ) %>%
#   colorbar(
#     title = "# Of People"
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- affirmative_country$input
}
affirmative_map <- function(input) {
# asylums_map <- plot_geo(affirmative_country) %>%
#   add_trace(
#     z = ~input,
#     color = ~input,
#     colors = "Reds",
#     text = ~country,
#     locations = ~code,
#     marker = list(
#       line = list(
#         color = toRGB("black"),
#         width = 0.5
#       )
#     )
#   ) %>%
#   colorbar(
#     title = "# Of People"
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- affirmative_country$input
}
affirmative_map("year_2007")
affirmative_map <- function(input) {
# asylums_map <- plot_geo(affirmative_country) %>%
#   add_trace(
#     z = ~input,
#     color = ~input,
#     colors = "Reds",
#     text = ~country,
#     locations = ~code,
#     marker = list(
#       line = list(
#         color = toRGB("black"),
#         width = 0.5
#       )
#     )
#   ) %>%
#   colorbar(
#     title = "# Of People"
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- affirmative_country$input
}
affirmative_map("year_2007")
affirmative_asylum <- read.csv("Refugees/country_affirmative_asylum.csv",
stringsAsFactors = F)
defensive_asylum <- read.csv("Refugees/country_defensive_asylum.csv",
stringsAsFactors = F)
colnames(affirmative_asylum)[colnames(affirmative_asylum) ==
"ï..Country"] <- "country"
affirmative <- affirmative_asylum %>%
filter(code != "NA")
affirmative[affirmative == "-"] <- 0
affirmative[affirmative == "D"] <- NA
affirmative <- affirmative %>%
rename_at(
vars(starts_with("X")),
funs(sub("X", "year_", .))
)
affirmative$year_2007 <- gsub(",", "", affirmative$year_2007)
affirmative$year_2008 <- gsub(",", "", affirmative$year_2008)
affirmative$year_2009 <- gsub(",", "", affirmative$year_2009)
affirmative$year_2010 <- gsub(",", "", affirmative$year_2010)
affirmative$year_2011 <- gsub(",", "", affirmative$year_2011)
affirmative$year_2012 <- gsub(",", "", affirmative$year_2012)
affirmative$year_2013 <- gsub(",", "", affirmative$year_2013)
affirmative$year_2014 <- gsub(",", "", affirmative$year_2014)
affirmative$year_2015 <- gsub(",", "", affirmative$year_2015)
affirmative$year_2016 <- gsub(",", "", affirmative$year_2016)
affirmative_country <- affirmative %>%
select(
country
)
suppressWarnings(num_affirmative <- data.matrix(affirmative[2:11]))
affirmative_country <- affirmative_country %>%
mutate(
year_2007 = num_affirmative[, 1],
year_2008 = num_affirmative[, 2],
year_2009 = num_affirmative[, 3],
year_2010 = num_affirmative[, 4],
year_2011 = num_affirmative[, 5],
year_2012 = num_affirmative[, 6],
year_2013 = num_affirmative[, 7],
year_2014 = num_affirmative[, 8],
year_2015 = num_affirmative[, 9],
year_2016 = num_affirmative[, 10],
code = affirmative[, 12]
)
affirmative_country <- data.frame(affirmative_country)
affirmative_map <- function(input) {
# asylums_map <- plot_geo(affirmative_country) %>%
#   add_trace(
#     z = ~input,
#     color = ~input,
#     colors = "Reds",
#     text = ~country,
#     locations = ~code,
#     marker = list(
#       line = list(
#         color = toRGB("black"),
#         width = 0.5
#       )
#     )
#   ) %>%
#   colorbar(
#     title = "# Of People"
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- affirmative_country$input
}
affirmative_map("year_2007")
return(help)
affirmative_map <- function(input) {
# asylums_map <- plot_geo(affirmative_country) %>%
#   add_trace(
#     z = ~input,
#     color = ~input,
#     colors = "Reds",
#     text = ~country,
#     locations = ~code,
#     marker = list(
#       line = list(
#         color = toRGB("black"),
#         width = 0.5
#       )
#     )
#   ) %>%
#   colorbar(
#     title = "# Of People"
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- affirmative_country$input
return(help)
}
affirmative_map("year_2007")
affirmative_map(year_2007)
affirmative_map(year_2007)
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- list()
affirmative_map <- function(input) {
# asylums_map <- plot_geo(affirmative_country) %>%
#   add_trace(
#     z = ~input,
#     color = ~input,
#     colors = "Reds",
#     text = ~country,
#     locations = ~code,
#     marker = list(
#       line = list(
#         color = toRGB("black"),
#         width = 0.5
#       )
#     )
#   ) %>%
#   colorbar(
#     title = "# Of People"
#   ) %>%
#   layout(
#     title = "Affirmative Asylums to the US From Around The World",
#     geo = list(
#       showframe = FALSE,
#       showcoastlines = TRUE,
#       projection = list(type = "Mercator")
#     )
#   )
# return(asylums_map)
help <- list()
help$me <- affirmative_country$input
return(help)
}
affirmative_map(year_2007)
affirmative_map(year_2007)
affirmative_map(year_2007)
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~input,
color = ~input,
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map(year_2007)
affirmative_map("year_2007")
affirmative_map <- function(input) {
asylums_map <- plot_geo(affirmative_country) %>%
add_trace(
z = ~paste0("year_", input),
color = ~paste0("year_", input),
colors = "Reds",
text = ~country,
locations = ~code,
marker = list(
line = list(
color = toRGB("black"),
width = 0.5
)
)
) %>%
colorbar(
title = "# Of People"
) %>%
layout(
title = "Affirmative Asylums to the US From Around The World",
geo = list(
showframe = FALSE,
showcoastlines = TRUE,
projection = list(type = "Mercator")
)
)
return(asylums_map)
}
affirmative_map("year_2007")
