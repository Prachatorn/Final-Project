select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = totals, `2008`:`2016`, -Region.and.country.of.nationality) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = totals, `2008`:`2016`, -Region.and.country.of.nationality)
runApp()
runApp()
runApp()
rlang::last_error()
runApp()
ggplot(regionals,
aes(
x = year,
y = totals,
color = "blue")
) + geom_line(regionals$Region.and.country.of.nationality == "Africa") +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year,
y = regionals$Region.and.country.of.nationality == "Africa",
color = "blue")
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year,
y = totals,
color = "blue")
) + geom_line(x = year,
y = totals,
color = "blue",
regionals$Region.and.country.of.nationality == "Africa") +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year,
y = totals,
color = "blue")
) + geom_line(aes(x = year,
y = totals,
color = "blue",
regionals$Region.and.country.of.nationality == "Africa")) +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year,
y = totals,
color = "blue",
regionals$Region.and.country.of.nationality)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year,
y = totals,
color = "blue",
regionals$Region.and.country.of.nationality == "Africa")
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year,
y =  regionals$Region.and.country.of.nationality == "Africa",
color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
regionals <- as.numeric(regionals$year)
ggplot(regionals,
aes(
x = year,
y =  regionals$Region.and.country.of.nationality == "Africa",
color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Year = as.numeric(year))
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Year = as.numeric(year))
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Yearx = as.numeric(year))
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Yearx = as.numeric(year)) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Yearx = as.numeric(year)) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Yearx = as.numeric(year)) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
regional_arrivals <- read.csv("Refugees/regional_arrivals.csv",
stringsAsFactors = F)
# Regional Arrivals graphs
regional_arrivals <- regional_arrivals %>%
rename("2007" = X2007, "2008" = X2008, "2009" = X2009, "2010" = X2010,
"2011" = X2011, "2012" = X2012, "2013" = X2013, "2014" = X2014,
"2015" = X2015, "2016" = X2016)
regional_arrivals[,-1] <- suppressWarnings(as.numeric(gsub(",", "",
as.matrix(
regional_arrivals[,-1]))))
regional_arrivals[is.na(regional_arrivals)] <- 0
regional_arrivals$year <- list("")
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
mutate(Yearx = as.numeric(year)) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regionals %>%
mutate(year = as.numeric(year))
ggplot(regionals,
aes(
x = year,
y =  regionals$Region.and.country.of.nationality == "Africa",
color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes_string(
x = year,
y =  regionals$Region.and.country.of.nationality == "Africa",
color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes_string(
x = year,
y =  regionals$Region.and.country.of.nationality == "Africa",
color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes_string(
x = "year",
y =  regionals$Region.and.country.of.nationality == "Africa",
color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes_string(
x = "year",
y =  regionals$Region.and.country.of.nationality == "Africa"
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
caps <- data.frame("Year" = c(2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015,
2016), "Cap" = c(80000, 80000, 80000, 80000, 76000,
70000, 70000, 70000, 85000),
"Admitted" = c(60107, 74602, 73293, 56384, 58179, 69909,
69975, 69920, 84989))
View(caps)
ggplot(regionals,
aes(
x = year
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line(aes(y = regionals$Region.and.country.of.nationality)) +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = year
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line(aes(y = regionals$Region.and.country.of.nationality)) +
geom_line(aes(y = regionals$totals))
runApp()
runApp()
newdata$years <- c(2007:2016)
#>>>>>>> af830ed980fdf2674a8ba0d4d7efa0d61b93f098
#>>>>>>> c692460e25121cfd7948c0bca12df35a41c89ba6
newdata <- list()
newdata$years <- c(2007:2016)
newdata$years <- c(2007:2016)
newdata$africa <- c(regional_arrivals$`2007`[2],regional_arrivals$`2008`[2],
regional_arrivals$`2007`[2])
View(newdaa)
View(newdata)
dataghost <- data.frame(newdata)
#>>>>>>> af830ed980fdf2674a8ba0d4d7efa0d61b93f098
#>>>>>>> c692460e25121cfd7948c0bca12df35a41c89ba6
newdata <- list()
newdata$years <- c(2007:2010)
newdata$africa <- c(regional_arrivals$`2007`[2],regional_arrivals$`2008`[2],
regional_arrivals$`2009`[2],regional_arrivals$`2010`[2])
dataghost <- data.frame(newdata)
View(dataghost)
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = Region.and.country.of.nationality, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = Region.and.country.of.nationality, value = totals, Region.and.country.of.nationality) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = Region.and.country.of.nationality, value = totals, `2008`:`2016`) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = totals, `2008`:`2016`, Region.and.country.of.nationality:Region.and.country.of.nationality) # all columns except `state`
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = Region.and.country.of.nationality, `2008`:`2016`, Region.and.country.of.nationality:Region.and.country.of.nationality) # all columns except `state`
totals
regionals <- regional_arrivals %>%
select(Region.and.country.of.nationality, `2008`, `2009`, `2010`, `2011`, `2012`,
`2013`, `2014`, `2015`, `2016`) %>%
gather(key = year, value = totals, `2008`:`2016`) # all columns except `state`
newdata$africa <- c(regional_arrivals$`2008`[2],
regional_arrivals$`2009`[2],regional_arrivals$`2010`[2],
regional_arrivals$`2011`[2], regional_arrivals$`2012`[2],
regional_arrivals$`2013`[2], regional_arrivals$`2014`[2],
regional_arrivals$`2015`[2], regional_arrivals$`2016`[2])
newdata$asia <- c(regional_arrivals$`2008`[3],
regional_arrivals$`2009`[3],regional_arrivals$`2010`[3],
regional_arrivals$`2011`[3], regional_arrivals$`2012`[3],
regional_arrivals$`2013`[3], regional_arrivals$`2014`[3],
regional_arrivals$`2015`[3], regional_arrivals$`2016`[3])
#>>>>>>> af830ed980fdf2674a8ba0d4d7efa0d61b93f098
#>>>>>>> c692460e25121cfd7948c0bca12df35a41c89ba6
newdata <- list()
newdata$years <- c(2008:2016)
newdata$africa <- c(regional_arrivals$`2008`[2],
regional_arrivals$`2009`[2],regional_arrivals$`2010`[2],
regional_arrivals$`2011`[2], regional_arrivals$`2012`[2],
regional_arrivals$`2013`[2], regional_arrivals$`2014`[2],
regional_arrivals$`2015`[2], regional_arrivals$`2016`[2])
newdata$asia <- c(regional_arrivals$`2008`[3],
regional_arrivals$`2009`[3],regional_arrivals$`2010`[3],
regional_arrivals$`2011`[3], regional_arrivals$`2012`[3],
regional_arrivals$`2013`[3], regional_arrivals$`2014`[3],
regional_arrivals$`2015`[3], regional_arrivals$`2016`[3])
newdata$europe <- c(regional_arrivals$`2008`[4],
regional_arrivals$`2009`[4],regional_arrivals$`2010`[4],
regional_arrivals$`2011`[4], regional_arrivals$`2012`[4],
regional_arrivals$`2013`[4], regional_arrivals$`2014`[4],
regional_arrivals$`2015`[4], regional_arrivals$`2016`[4])
newdata$north_america <- c(regional_arrivals$`2008`[5],
regional_arrivals$`2009`[5],regional_arrivals$`2010`[5],
regional_arrivals$`2011`[5], regional_arrivals$`2012`[5],
regional_arrivals$`2013`[5], regional_arrivals$`2014`[5],
regional_arrivals$`2015`[5], regional_arrivals$`2016`[5])
newdata$oceania <- c(regional_arrivals$`2008`[6],
regional_arrivals$`2009`[6],regional_arrivals$`2010`[6],
regional_arrivals$`2011`[6], regional_arrivals$`2012`[6],
regional_arrivals$`2013`[6], regional_arrivals$`2014`[6],
regional_arrivals$`2015`[6], regional_arrivals$`2016`[6])
newdata$south_america <- c(regional_arrivals$`2008`[7],
regional_arrivals$`2009`[7],regional_arrivals$`2010`[7],
regional_arrivals$`2011`[7], regional_arrivals$`2012`[7],
regional_arrivals$`2013`[7], regional_arrivals$`2014`[7],
regional_arrivals$`2015`[7], regional_arrivals$`2016`[7])
newdata$unknown <- c(regional_arrivals$`2008`[8],
regional_arrivals$`2009`[8],regional_arrivals$`2010`[8],
regional_arrivals$`2011`[8], regional_arrivals$`2012`[8],
regional_arrivals$`2013`[8], regional_arrivals$`2014`[8],
regional_arrivals$`2015`[8], regional_arrivals$`2016`[8])
regionals <- data.frame(newdata)
View(regionals)
View(regionals)
runApp()
runApp()
page_one <- tabPanel(
"Changes Over the Obama Era",
sidebarLayout(
sidebarPanel(
helpText("Choose a region to see how arrivals from that area changed
over the Obama administration"),
selectInput(
"region",
label = "Region",
choices = c("Africa" = "africa", "Asia" = "asia",
"Europe" = "europe", "North America" = "north_america",
"Oceania" = "oceania", "South America" = "south_america",
"unknown" = "unknown"),
selected = "Africa"
)
),
mainPanel(
plotOutput("region_time"),
p("This plot displays the change in total arrivals over time of the
selected region. The time frame is from 2008 to 2016, which marks the
election of President Obama and the end of his two terms.")
)
),
sidebarLayout(
sidebarPanel(
helpText("Choose a country (or two) to see how arrivals from that area
changed over the Obama administration"),
selectInput(
"country",
label = "country",
choices = country_arrivals$Country,
selected = "Afghanistan"
)
),
mainPanel(
plotOutput("country_time"),
p("This plot provides information about the total arrivals of a selected
country during the Obama administration. You may select one or two
countries to compare their numbers.")
)
)
)
runApp()
runApp()
runApp()
newdata <- list()
newdata$years <- c(2008:2016)
newdata$africa <- c(regional_arrivals$`2008`[2],
regional_arrivals$`2009`[2],regional_arrivals$`2010`[2],
regional_arrivals$`2011`[2], regional_arrivals$`2012`[2],
regional_arrivals$`2013`[2], regional_arrivals$`2014`[2],
regional_arrivals$`2015`[2], regional_arrivals$`2016`[2])
newdata$asia <- c(regional_arrivals$`2008`[3],
regional_arrivals$`2009`[3],regional_arrivals$`2010`[3],
regional_arrivals$`2011`[3], regional_arrivals$`2012`[3],
regional_arrivals$`2013`[3], regional_arrivals$`2014`[3],
regional_arrivals$`2015`[3], regional_arrivals$`2016`[3])
newdata$europe <- c(regional_arrivals$`2008`[4],
regional_arrivals$`2009`[4],regional_arrivals$`2010`[4],
regional_arrivals$`2011`[4], regional_arrivals$`2012`[4],
regional_arrivals$`2013`[4], regional_arrivals$`2014`[4],
regional_arrivals$`2015`[4], regional_arrivals$`2016`[4])
newdata$north_america <- c(regional_arrivals$`2008`[5],
regional_arrivals$`2009`[5],regional_arrivals$`2010`[5],
regional_arrivals$`2011`[5], regional_arrivals$`2012`[5],
regional_arrivals$`2013`[5], regional_arrivals$`2014`[5],
regional_arrivals$`2015`[5], regional_arrivals$`2016`[5])
newdata$oceania <- c(regional_arrivals$`2008`[6],
regional_arrivals$`2009`[6],regional_arrivals$`2010`[6],
regional_arrivals$`2011`[6], regional_arrivals$`2012`[6],
regional_arrivals$`2013`[6], regional_arrivals$`2014`[6],
regional_arrivals$`2015`[6], regional_arrivals$`2016`[6])
newdata$south_america <- c(regional_arrivals$`2008`[7],
regional_arrivals$`2009`[7],regional_arrivals$`2010`[7],
regional_arrivals$`2011`[7], regional_arrivals$`2012`[7],
regional_arrivals$`2013`[7], regional_arrivals$`2014`[7],
regional_arrivals$`2015`[7], regional_arrivals$`2016`[7])
newdata$unknown <- c(regional_arrivals$`2008`[8],
regional_arrivals$`2009`[8],regional_arrivals$`2010`[8],
regional_arrivals$`2011`[8], regional_arrivals$`2012`[8],
regional_arrivals$`2013`[8], regional_arrivals$`2014`[8],
regional_arrivals$`2015`[8], regional_arrivals$`2016`[8])
regionals <- data.frame(newdata)
runApp()
regionals <- data.frame(newdata)
View(regionals)
runApp()
ggplot(regionals,
aes(
x = year,
y = regionals$africa
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
ggplot(regionals,
aes(
x = years,
y = regionals$africa
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
runApp()
ggplot(regionals,
aes(
x = years,
y = africa
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
runApp()
runApp()
ggplot(regionals,
aes(
x = years,
y = asia
#color = "blue"
#regionals$Region.and.country.of.nationality == "Africa"
)
) + geom_line() +
ggtitle("Change in Total Regional Arrivals From 2008-2016") +
xlab("Year") +
ylab("Arrivals")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
page_one <- tabPanel(
"Changes Over the Obama Era",
sidebarLayout(
sidebarPanel(
helpText("Choose a region to see how arrivals from that area changed
over the Obama administration"),
selectInput(
"area",
label = "Region",
choices = c("pink"),
selected = "Asia"
)
),
mainPanel(
plotOutput("region_time"),
p("This plot displays the change in total arrivals over time of the
selected region. The time frame is from 2008 to 2016, which marks the
election of President Obama and the end of his two terms.")
)
),
sidebarLayout(
sidebarPanel(
helpText("Choose a country (or two) to see how arrivals from that area
changed over the Obama administration"),
selectInput(
"country",
label = "country",
choices = country_arrivals$Country,
selected = "Afghanistan"
)
),
mainPanel(
plotOutput("country_time"),
p("This plot provides information about the total arrivals of a selected
country during the Obama administration. You may select one or two
countries to compare their numbers.")
)
)
)
runApp()
